# Paws for Home 🐾

구조동물 정보를 제공하는 Flutter 앱입니다.

## 주요 기능

### 🏠 구조동물 목록
- 전국 보호소의 구조동물 정보 조회
- 시도/시군구별 필터링
- 축종(개/고양이/기타)별 필터링
- 상태(공고중/보호중/보호종료)별 필터링
- 그리드/리스트 뷰 전환
- 무한 스크롤로 추가 데이터 로드

### 🔍 고급 검색
- 품종별 검색
- 중성화 여부 필터링
- 성별 필터링
- 구조일자 범위 설정
- 보호소별 검색

### ❤️ 관심 동물 관리
- 관심 동물 등록/해제
- 관심 동물 목록 조회
- 관심 상태 실시간 동기화

### 📱 상세 정보
- 동물 상세 정보 조회
- 이미지 갤러리
- 보호소 연락처 및 주소
- 공유 기능

### ⚡ 캐시 시스템
- **빠른 로딩**: 캐시된 데이터를 우선 표시하여 즉시 화면에 내용을 보여줍니다
- **자동 새로고침**: 목록 화면에 진입할 때마다 자동으로 최신 데이터를 확인하고 업데이트합니다
- **백그라운드 업데이트**: 캐시된 데이터를 보여주면서 동시에 최신 데이터를 백그라운드에서 로드합니다
- **스마트 캐시**: 검색 필터에 따라 캐시를 관리하여 관련 데이터만 저장합니다
- **자동 만료**: 설정 가능한 만료 시간(기본 1시간)으로 캐시가 자동으로 갱신됩니다
- **실시간 상태 표시**: 캐시 상태와 새로고침 진행 상황을 실시간으로 표시합니다
- **수동 새로고침**: 캐시 상태 표시기에서 수동으로 캐시를 새로고침할 수 있습니다

## 기술 스택

- **Framework**: Flutter
- **State Management**: Riverpod
- **Architecture**: Clean Architecture
- **API**: 공공데이터포털 구조동물 API
- **Storage**: SharedPreferences (캐시 및 설정)
- **Navigation**: GoRouter
- **Image Loading**: Cached Network Image
- **UI**: Material Design 3

## 프로젝트 구조

```
lib/
├── core/
│   ├── constants/
│   ├── errors/
│   └── services/
│       ├── abandonment_api_service.dart
│       ├── pet_cache_service.dart          # 캐시 관리
│       ├── cache_settings_service.dart     # 캐시 설정
│       └── preload_provider.dart
├── features/
│   └── pets/
│       ├── data/
│       ├── domain/
│       └── presentation/
│           ├── providers/
│           │   ├── pet_providers.dart      # 캐시 통합된 상태 관리
│           │   └── search_filter_provider.dart
│           └── screens/
│               └── pets_list/
│                   └── widgets/
│                       └── cache_status_indicator.dart  # 캐시 상태 표시
└── shared/
    └── models/
```

## 캐시 시스템 상세

### 동작 방식
1. **첫 로드**: API에서 데이터를 가져와 캐시에 저장하고 화면에 표시
2. **재방문**: 캐시된 데이터를 즉시 표시하고 백그라운드에서 최신 데이터 확인
3. **자동 새로고침**: 목록 화면에 진입할 때마다 자동으로 최신 데이터 확인 (30초 간격으로 중복 방지)
4. **데이터 변경 감지**: 새로운 데이터가 있으면 자동으로 화면 업데이트
5. **필터 변경**: 새로운 필터로 검색 시 해당 필터에 맞는 캐시 확인

### 캐시 설정
- **만료 시간**: 기본 1시간 (설정 가능)
- **활성화/비활성화**: 사용자가 캐시 기능을 끄고 켤 수 있음
- **자동 정리**: 만료된 캐시는 자동으로 삭제됨

### 성능 최적화
- **즉시 응답**: 캐시된 데이터로 즉시 화면 표시
- **네트워크 절약**: 불필요한 API 호출 감소
- **배터리 절약**: 백그라운드 업데이트로 효율적인 데이터 관리

## 설치 및 실행

1. Flutter 환경 설정
2. 의존성 설치: `flutter pub get`
3. 앱 실행: `flutter run`

## 라이선스

이 프로젝트는 MIT 라이선스 하에 배포됩니다.